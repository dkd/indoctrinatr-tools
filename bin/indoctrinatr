#!/usr/bin/env ruby

require 'gli'
require 'indoctrinatr/tools/version'
require 'indoctrinatr/tools/template_pack_scaffold'

include GLI::App

program_desc 'Create and manage template packs for Indoctrinatr'
version Indoctrinatr::Tools::VERSION
config_file File.join(ENV['HOME'], '.indoctrinatr.rc')

desc 'Display current version'
command :version do |c|
  c.action do |global_options, options, args|
    puts Indoctrinatr::Tools::VERSION
  end
end

desc 'Create a scaffold folder for a new Indoctrinatr template pack'
arg_name 'scaffold_name'
command :new do |c|
  c.action do |global_options, options, args|
    template_name = args.join "_"
    Indoctrinatr::Tools::TemplatePackScaffold.new(template_name).call
  end
end

exit run(ARGV)
